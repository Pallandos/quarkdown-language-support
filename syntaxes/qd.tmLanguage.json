{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "Quarkdown",
	"patterns": [
		{"include": "#headers"},
		{"include": "#bold"},
		{"include": "#italic"},
		{"include": "#code"},
		{"include": "#link"},
		{"include": "#function"},
		{"include": "#quote"},
		{"include": "#comment"},
		{"include": "#maths"},
		{"include": "#list"}
	],
	"repository": {
		"headers": {
			"patterns": [
				{
					"name": "markup.heading.qd",
					"match": "^(\\s)*(#{1,6})\\s.*$"
				}
			]
		},
		"code": {
			"patterns": [
				{
					"name": "markup.inline.code.qd",
					"match": "`([^`]+)`"
				}
			]
		},
		"bold": {
			"patterns": [
				{
					"name": "markup.bold.qd",
					"match": "\\*\\*(.*?)\\*\\*"
				}
			]
		},
		"italic": {
			"patterns": [
				{
					"name": "markup.italic.qd",
					"match": "\\*(.*?)\\*"
				}
			]
		},
		"link": {
			"patterns": [
				{
					"name": "markup.underline.link.qd",
					"match": "\\[(.*?)\\]\\((.*?)\\)"
				}
			]
		},
		"comment": {
			"patterns": [
				{
					"name": "comment.block.qd",
					"begin": "<!--",
					"end": "-->"
				}
			]
		},
		"list": {
			"patterns": [
				{
					"name": "markup.list.unnumbered.qd",
					"begin": "^(\\s*)([-*])( )",
					"beginCaptures": {
						"2": {
							"name": "punctuation.definition.list.begin.markdown.qd"
						}
					},
					"end": "$",
					"patterns": [
						{ "include": "#inline" }
					]
				},
				{
					"name": "markup.numbered.list.qd",
					"begin": "^(\\s*)(\\d+)\\.\\s",
					"beginCaptures": {
						"2": {
							"name": "punctuation.definition.list.begin.markdown.qd"
						}
					},
					"end": "$",
					"patterns": [
						{ "include": "#inline" }
					]
				}
			]
		},
		"quote": {
			"patterns": [{
				"name": "markup.quote.qd",
				"match": "^( )*(>)\\s*\\S+(.*)",
				"captures": {
					"2": {
						"name": "punctuation.definition.quote.begin.markdown.qd"
					},
					"3": {
						"name": "markup.quote.content.qd"
					}
				}
			}]
		},
		"maths": {
			"patterns": [
				{
					"name": "markup.math.inline.markdown.qd",
					"match": "\\B\\$\\s.*\\s\\$\\B"
				},
				{
					"name": "markup.math.block.markdown.qd",
					"begin": "^(\\$){3}\\s*$",
					"end": "^(\\$){3}\\s*$",
					"patterns": [
						{
							"name": "markup.math.content.markdown.qd",
							"match": "^(?!\\$\\$\\$\\s*$).+"
						}
					]
				}
			]
		},
		"function": {
			"patterns": [
				{
					"name": "meta.function.qd",
					"begin": "(?<=(^| ))\\.[a-zA-Z]+( )?",
					"beginCaptures": {
						"0": {
							"name": "entity.name.function.qd"
						}
					},
					"end": "$",
					"patterns": [
						{
							"name": "meta.function.parameters.qd",
							"match": "([a-zA-Z]+:)?\\{.*?\\}"
						}
					]
				}
			]
		},
		"inline": {
			"patterns": [
				{ "include": "#function"},
				{ "include": "#bold" },
				{ "include": "#italic" },
				{ "include": "#code" },
				{ "include": "#link" }
			]
		}
	},
	"scopeName": "source.qd"
}